<div class="modal-dialog product-modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <button type="button" class="close" (click)="close()">&times;</button>
            <h4 class="modal-title">Lệnh sản xuất</h4>
        </div>
        <div class="modal-body">
            <table class="table table-bordered table-striped tbl-command">
                <tbody>
                <tr>
                    <th>I. PX. THIẾT KẾ - CHẾ BẢN</th>
                    <th colspan="11"></th>
                </tr>
                <tr>
                    <th class="header-tbl">Tên sản phẩm</th>
                    <th class="header-tbl">Số trang</th>
                    <th class="header-tbl">Khổ TP(cm)</th>
                    <th class="header-tbl"><p class="break-data">Bát/</p><p>khuôn in</p></th>
                    <th class="header-tbl">Số tay</th>
                    <th class="header-tbl">Cách in</th>
                    <th class="header-tbl">Khổ in</th>
                    <th class="header-tbl">Màu in</th>
                    <th class="header-tbl">Loại kẽm</th>
                    <th class="header-tbl">Máy</th>
                    <th class="header-tbl">SL(kẽm-đế)</th>
                    <th class="header-tbl">Thời gian</th>
                </tr>
                <tr *ngFor="let el of elements; let i = index">
                    <td class="capitalize">{{el.name}}</td>
                    <td>{{el.so_trang}}</td>
                    <td>{{el.kho_tp}}</td>
                    <td>{{el.so_bat}}</td>
                    <td>{{el.so_tay}}</td>
                    <td>{{el.cach_in}}</td>
                    <td>{{el.kho_in}}</td>
                    <td>{{el.mau_in}}</td>
                    <td>
                        <select style="width: 75px;" title="{{el.zinc_type.lable}} {{el.name}}" class="form-control"
                                [(ngModel)]="formData.zinc_type[el.id+'-sel-'+el.zinc_type.id]"
                                (change)="genElement()" name="{{el.id}}-sel-{{el.zinc_type.id}}">
                            <option *ngFor='let dataitem of el.zinc_type.data'
                                    value="{{dataitem.list_code}}">{{dataitem.list_code}}
                            </option>
                        </select>
                    </td>
                    <td>{{el.may_in}}</td>
                    <td>{{el.sl_kem}}</td>
                    <td style="vertical-align: middle;" *ngIf="i===0" [attr.rowspan]="elements.length">
                        {{arrTime['tkcb']}}
                    </td>
                </tr>
                <tr>
                    <th>II. CẮT GIẤY TRẮNG</th>
                    <th colspan="11"></th>
                </tr>
                <tr>
                    <th class="header-tbl">Tên sản phẩm</th>
                    <th class="header-tbl">Số trang</th>
                    <th class="header-tbl">Loại giấy/ĐL</th>
                    <th class="header-tbl">Khổ kho</th>
                    <th class="header-tbl">SL.Giấy xuất(tờ)</th>
                    <th class="header-tbl">SL.Giấy xuất(kg)</th>
                    <th class="header-tbl">Cách cắt</th>
                    <th class="header-tbl">Khổ in</th>
                    <th class="header-tbl">Bù hao</th>
                    <th class="header-tbl">Tờ chưa bù hao</th>
                    <th class="header-tbl">Tổng SL tờ in đã bù hao</th>
                    <th class="header-tbl">Thời gian</th>
                </tr>
                <tr *ngFor="let el of elements; let i = index">
                    <td class="capitalize">{{el.name}}</td>
                    <td>{{el.so_trang}}</td>
                    <td>{{el.loai_giay}}</td>
                    <td>{{el.kho_kho.detail.name}}
                        <!--<select style="width: 99px;" title="{{el.arrKho_kho.lable}} {{el.name}}" class="form-control"
                                [(ngModel)]="formData.kho_kho[el.id+'-sel-'+el.arrKho_kho.id]"
                                (change)="genElement()" name="{{el.id}}-sel-{{el.arrKho_kho.id}}">
                            <option *ngFor='let dataitem of el.arrKho_kho.data'
                                    value="{{dataitem.list_code}}">{{dataitem.list_code}}
                            </option>
                        </select>-->
                    </td>
                    <td>{{el.sl_giay_xuat}}</td>
                    <td>{{el.sl_giay_xuat_kg}}</td>
                    <td>{{el.cach_cat}}</td>
                    <td>{{el.kho_in}}</td>
                    <td>{{el.bu_hao}}</td>
                    <td>{{el.tong_to_chua_bu_hao}}</td>
                    <td>{{el.tong_to_da_bu_hao}}</td>
                    <td style="vertical-align: middle;" *ngIf="i===0" [attr.rowspan]="elements.length">
                        {{arrTime['cat_giay_trang']}}
                    </td>
                </tr>
                <tr>
                    <th>III. PX. MÁY IN/PX.TK-CB (IN KTS)</th>
                    <th colspan="11"></th>
                </tr>
                <tr>
                    <th class="header-tbl">Tên sản phẩm</th>
                    <th class="header-tbl">Số trang</th>
                    <th class="header-tbl">Loại giấy/ĐL</th>
                    <th class="header-tbl">Khổ in</th>
                    <th class="header-tbl">SL.Giấy xuất(kg)</th>
                    <th class="header-tbl">Bát/khuôn in</th>
                    <th class="header-tbl">Số tay</th>
                    <th class="header-tbl">Màu in</th>
                    <th class="header-tbl">Máy</th>
                    <th class="header-tbl">Kẽm</th>
                    <th class="header-tbl">Lượt/Click</th>
                    <th class="header-tbl">Thời gian</th>
                </tr>
                <tr *ngFor="let el of elements; let i = index">
                    <td class="capitalize">{{el.name}}</td>
                    <td>{{el.so_trang}}</td>
                    <td>{{el.loai_giay}}</td>
                    <td>{{el.kho_in}}</td>
                    <td>{{el.sl_giay_xuat_kg}}</td>
                    <td>{{el.so_bat}}</td>
                    <td>{{el.so_tay}}</td>
                    <td>{{el.mau_in}}</td>
                    <td>{{el.may_in}}</td>
                    <td>{{el.sl_kem}}</td>
                    <td>{{el.so_luot_in}}</td>
                    <td style="vertical-align: middle;" *ngIf="i===0" [attr.rowspan]="elements.length">
                        {{arrTime['mayin_tkcb']}}
                    </td>
                </tr>
                <tr>
                    <th>IV. PX. GIA CÔNG SAU IN</th>
                    <th colspan="11"></th>
                </tr>
                <tr>
                    <th class="header-tbl">Tên sản phẩm</th>
                    <th class="header-tbl">Số trang</th>
                    <th class="header-tbl">Số tay</th>
                    <th class="header-tbl">Số vạch</th>
                    <th colspan="2" class="header-tbl">Quy cách đóng</th>
                    <th colspan="2" class="header-tbl">Cách gia công</th>
                    <th class="header-tbl">ĐVT</th>
                    <th class="header-tbl">Số lượng</th>
                    <th class="header-tbl">Cách đóng gói</th>
                    <th class="header-tbl">Thời gian</th>
                </tr>
                <tr *ngFor="let el of elements; let i = index">
                    <td class="capitalize">{{el.name}}</td>
                    <td>{{el.so_trang}}</td>
                    <td>{{el.so_tay}}</td>
                    <td>{{el.so_vach}}</td>
                    <td colspan="2" style="vertical-align: middle;max-width: 150px;" *ngIf="i===0" [attr.rowspan]="elements.length">
                        <select style="width: 110px;" title="thung" class="form-control"
                                [(ngModel)]="formData.thung" name="thung">
                            <option *ngFor='let dataitem of thungData'
                                    value="{{dataitem.code}}">{{dataitem.name}}
                            </option>
                        </select>
                    </td>
                    <td colspan="2" style="vertical-align: middle;max-width: 150px;" *ngIf="i===0" [attr.rowspan]="elements.length">
                        {{cachGiaCong.join(', ')}}
                    </td>
                    <td *ngIf="i===0" [attr.rowspan]="elements.length">cuốn</td>
                    <td *ngIf="i===0" [attr.rowspan]="elements.length"></td>
                    <td style="vertical-align: middle;max-width: 150px;" *ngIf="i===0" [attr.rowspan]="elements.length">
                        <input style="width: 40px;" [(ngModel)]="formData.numofthung" name="numofthung" id="numofthung"
                               type="number" (change)="getThung()" min="0"> sản phẩm/1
                        thùng<br><span>, {{numthung}} thùng</span>
                    </td>
                    <td style="vertical-align: middle;" *ngIf="i===0" [attr.rowspan]="elements.length">
                        {{arrTime['gia_cong_sau_in']}}
                    </td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="modal-footer">
            <button type="button" class="btn btn-primary" (click)="apply()">Cập nhật</button>
            <button type="button"
                    class="btn btn-primary" (click)="exportExcel()">Xuất Excell
            </button>
        </div>
    </div>
</div>